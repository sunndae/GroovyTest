# Usar una imagen base con JDK
FROM openjdk:17

# Configurar el entorno
ENV GRAILS_VERSION 4.0.3

# Instalar Grails
RUN curl -s "https://get.sdkman.io" | bash && \
    bash -c "source $HOME/.sdkman/bin/sdkman-init.sh && \
             sdk install grails $GRAILS_VERSION"

# Copiar el proyecto al contenedor
COPY . /app
WORKDIR /app

# Exponer el puerto
EXPOSE 8081

# Comando para ejecutar la aplicaci√≥n
CMD ["grails", "run-app"]
